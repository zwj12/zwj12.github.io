---
layout: post
title: "Python"
date: 2023-12-10 12:54:00 +0800
author: Michael
categories: Python
---

# 作用域
Python变量的作用域一共有4种，分别是：
- L （Local） 局部作用域
- E （Enclosing） 闭包函数外的函数中
- G （Global） 全局作用域
- B （Built-in） 内建作用域 以 L –> E –> G –>B 的规则查找，即：在局部找不到，便会去局部外的局部找（例如闭包），再找不到就会去全局找，再者去内建中找。

## Example

    str = 'global'
    def func1():
        print(str)    #global, 局部找不到, 全局中找
    func1()
    print(str)    #global，全局中找

    str = 'global'
    def func1():
        str = "xyz"    
        print(str)    #xyz， 局部定义了，和全局不是一个变量
    func1()
    print(str)    #global，全局中找

    str = 'global'
    def func1():
        global str
        str = "xyz"
        print(str)  #xyz， 局部强制引入了全局变量，修改后会直接修改全部变量
    func1()
    print(str)    #xyz，全局中找，被func1函数修改了变量值

# string
    name = 'Michael'
    output = 'Hello %s' % name

## f-string
    name = 'Michael'
    output = f'Hello {name}'

## r-string
    path = r'C:\Michael.log'

# sys._getframe().f_code.co_name
获取当前函数名

# 绝对导入 import module_name 该方法不建议在同目录下导入使用
即import后直接接模块名。在这种情况下，Python会在两个地方寻找这个模块:
1. 第一是sys.path（通过运行代码import sys; print(sys.path)查看），os这个模块所在的目录就在列表sys.path中，一般安装的Python库的目录都可以在sys.path中找到（前提是要将Python的安装目录添加到电脑的环境变量），所以对于安装好的库，我们直接import即可。
2. 第二个地方就是运行文件（这里是m1.py）所在的目录，因为m2.py和运行文件在同一目录下，所以上述写法没有问题。

# from import 同目录下导入建议用该方法
- from . import module_name。导入和自己同目录下的模块。
- from .package_name import module_name。导入和自己同目录的包的模块。
- from .. import module_name。导入上级目录的模块。
- from ..package_name import module_name。导入位于上级目录下的包的模块。
- 当然还可以有更多的.，每多一个点就多往上一层目录。

        //m1.py
        import m2
        from Branch.Child import m3
        m2.printSelf()
        m3.printSelf()

        //m3.py
        from . import m4
        def printSelf():
            print('In m3')
            m4.printSelf()

        Tree
        |____ m1.py
        |____ m2.py
        |____ Branch
            |____ Child
                |____m3.py
                |____m4.py

# 相对导入和绝对导入
绝对导入: import m2 和 from Branch import m3
相对导入：from . import m4