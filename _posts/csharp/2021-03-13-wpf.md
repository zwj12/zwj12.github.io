---
layout: post
title: "WPF"
date: 2021-03-13 09:25:00 +0800
author: Michael
categories: CSharp
---

# 命名空间
WPF 客户端/框架 XAML 命名空间映射为默认命名空间：xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"

单独的 XAML 命名空间，通常将其映射到 x: 前缀：xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"

映射到自定义类和程序集：xmlns:custom="clr-namespace:SDKSample;assembly=SDKSampleLibrary"

# WPF资源
每个元素都有自己的资源集合，为了找到期望的资源，WPF在元素树中进行递归搜索。只要不在同一集合中多次使用相同的资源名，就可以重用资源名称。可在资源部分中实例化任何.NET类（包括自定义类），只要该类是XAML友好的即可。这意味着该类需要一些基本特性，如公有的无参构造函数和可写的属性。

# Attribute & Property
可通过特性（attribute）设置每个类的属性（proterty）。对于XML，每个元素都可以有特性；对于C#，每个类都可以有属性。只是名称不一样而已，为了区分才定义为不同的名称。

# XAML
XAML只是一个WPF的页面配置文件，在实际运行时，XAML并不包含在WPF程序中，那么XAML在何时起作用的？程序在编译时，会使用XAML解析器对XAML文件进行编译，编译的结果为C#部分类，然后C#编译器把这个部分类合并到主程序中，页面渲染的时候是通过这个部分类把把控件显示出来的。

当XAML解析器解析XAML文件时，遇到Window控件名，它需要命名空间确认Window控件名是WPF的控件还是用户自己定义的控件，所谓命名空间就是起这个作用。

# 命名空间
按约定，在XAML文档中需要使用的所有名称空间应在第一个标签中声明，正如在这个示例中所做的那样。一旦声明一个名称空间，在文档中的任何地方都可以使用该名称空间。