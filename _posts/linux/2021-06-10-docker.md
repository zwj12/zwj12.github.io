---
layout: post
title: "docker"
date: 2021-06-10 11:57:00 +0800
author: Michael
categories: Linux
---

# 安装
	sudo apt install apt-transport-https ca-certificates curl gnupg lsb-release
	curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg
	echo "deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
	sudo apt update
	sudo apt install docker-ce docker-ce-cli containerd.io
	sudo docker run hello-world


# 运行
	sudo docker run -d -p 80:80 docker/getting-started
	sudo docker exec 0f1c27d07ceb

# 停止
	sudo docker stop 6f23e14b3bcb

# 停止并删除
	sudo docker rm -f 4284e18a2957

# 查看运行实例
	sudo docker ps

# 查看映像
	sudo docker image ls

# 数据持久化
	sudo docker volume create todo-db
	sudo docker run -dp 3000:3000 -v todo-db:/etc/todos getting-started
	sudo docker volume inspect todo-db

# 数据持久化数据存储位置
	/var/lib/docker/volumes

![日志文件夹](/assets/smartot/dockervolume.png) 

# 查看绑定端口信息
	sudo docker port 24e1a7af4ae1
	sudo docker inspect 24e1a7af4ae1